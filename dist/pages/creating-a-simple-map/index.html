<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>
      Creating Interactive Maps with D3
    </title>
    <meta name="description" content="">

    <link rel="stylesheet" href="/assets/css/main.css">
    <link rel="canonical" href="/pages/creating-a-simple-map/">
  </head>

  <body>

    <div class="content">
      <h1 id="creating-a-simple-map">Creating a Simple Map</h1>

<div id="simple-map-container"></div>

<script src="/assets/js/libs/d3.js"></script>

<script>
  // Create a selection for the map container
  var div = d3.select('#simple-map-container');

  // Configure the map size and projection
  var width = 800,
      height = 400;

  // Create and configure the projection
  var projection = d3.geo.equirectangular()
    .translate([width / 2, height / 2]);

  // Configure the path generator
  var pathGenerator = d3.geo.path()
    .projection(projection);

  // Construct the GeoJSON URL
  var geoJsonUrl = '/assets/data/cultural-1-50m/countries.json';

  // Load and parse the GeoJSON file asynchronously
  d3.json(geoJsonUrl, function(error, data) {

    // Handle errors getting or parsing the GeoJSON file
    if (error) {
      console.error(error);
      throw error;
    }

    var svg = div.selectAll('svg.map').data([data]);

    svg.enter().append('svg')
      .classed('map', true);

    svg
      .attr('width', width)
      .attr('height', height);

    svg.exit().remove();

    var countries = svg.selectAll('path.country').data([data]);

    countries.enter().append('path')
      .classed('country', true);

    countries
      .attr('d', pathGenerator);

    countries.exit().remove();
});

</script>

<h2 id="step-by-step">Step by Step</h2>

<ul>
  <li>First, we define the size of our map</li>
  <li>We create a <em>projection</em></li>
  <li>We create and configure the <em>path generator</em></li>
  <li>We load the GeoJSON data</li>
  <li>We create a selection for the <code>path</code> elements and bind them to the GeoJSON data</li>
  <li>We use the path generator to compute the SVG path string</li>
</ul>

    </div>

  </body>
</html>
